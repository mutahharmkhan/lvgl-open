---
title: lv_test_screenshot_compare.h
description: API reference for lv_test_screenshot_compare.h
api:
  functions: [lv_test_screenshot_compare]
  enums: [lv_test_screenshot_result_t]
---

<ApiSummary functions={1} enums={1} />

## Functions

<ApiMember kind="function" name="lv_test_screenshot_compare" file="debugging/test/lv_test_screenshot_compare.h" line={67} url="https://github.com/lvgl/lvgl/blob/master/src/debugging/test/lv_test_screenshot_compare.h#L67">

### lv_test_screenshot_compare

Compare the current content of the test screen with a reference PNG image
- If the reference image is not found it will be created automatically from the rendered screen.
- If the compare fails an `<image_name>_err.png` file will be created with the rendered content next to the reference image.

It requires lodepng.

```c
lv_test_screenshot_result_t lv_test_screenshot_compare(const char *fn_ref)
```

<span className="sr-only">Parameters</span>

| Name | Type | Description |
|------|------|-------------|
| `fn_ref` | `const char *` | path to the reference image. Will be appended to REF_IMGS_PATH if set. |

**Returns:** <ApiLink name="lv_test_screenshot_result_t" /> â€” An element of <ApiLink name="lv_test_screenshot_result_t" />

<Callout type="info">
This function assumes that the default display is the test display that was created by <ApiLink name="lv_test_display_create" display="lv_test_display_create()" />
</Callout>


</ApiMember>

## Enums

<ApiMember kind="enum" name="lv_test_screenshot_result_t" file="debugging/test/lv_test_screenshot_compare.h" line={30} url="https://github.com/lvgl/lvgl/blob/master/src/debugging/test/lv_test_screenshot_compare.h#L30">

### lv_test_screenshot_result_t

Return value of <ApiLink name="lv_test_screenshot_compare" />

| Name | Description |
|------|------|
| `LV_TEST_SCREENSHOT_RESULT_FAILED` | The screenshot is different than the reference image |
| `LV_TEST_SCREENSHOT_RESULT_PASSED` | The screenshot is the same as the reference image. It is also returned if <ApiLink name="LV_TEST_SCREENSHOT_CREATE_REFERENCE_IMAGE" /> is enabled and the reference image was missing. |
| `LV_TEST_SCREENSHOT_RESULT_NO_REFERENCE_IMAGE` | If <ApiLink name="LV_TEST_SCREENSHOT_CREATE_REFERENCE_IMAGE" /> is not enabled and the reference image is missing. |


</ApiMember>

## Dependencies

<FileIncludes
  includes={["lv_conf_internal.h"]}
  includedBy={["lv_test.h"]}
  transitiveIncludes={["lv_conf_kconfig.h"]}
/>